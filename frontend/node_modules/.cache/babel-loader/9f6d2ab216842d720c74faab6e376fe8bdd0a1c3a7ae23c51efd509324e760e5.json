{"ast":null,"code":"var _jsxFileName = \"D:\\\\New RockFall\\\\frontend\\\\src\\\\components\\\\LiveMonitoring.js\",\n  _s = $RefreshSig$();\n/**\r\n * Live Monitoring Component\r\n * Real-time display of sensor data and risk predictions\r\n */\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Line, Doughnut } from 'react-chartjs-2';\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend, ArcElement } from 'chart.js';\nimport { rockfallAPI, formatRiskLevel } from '../services/api';\n\n// Register Chart.js components\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend, ArcElement);\nconst LiveMonitoring = () => {\n  _s();\n  const [currentData, setCurrentData] = useState(null);\n  const [historicalData, setHistoricalData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [lastUpdate, setLastUpdate] = useState(new Date());\n  const intervalRef = useRef(null);\n\n  // Fetch live data from API\n  const fetchLiveData = async () => {\n    try {\n      const data = await rockfallAPI.getMockData();\n      setCurrentData(data);\n      setLastUpdate(new Date());\n\n      // Add to historical data (keep last 20 points)\n      setHistoricalData(prev => {\n        const newData = [...prev, {\n          timestamp: new Date().toLocaleTimeString(),\n          risk: data.prediction.risk_probability,\n          category: data.prediction.risk_category,\n          vibration: data.sensor_data.vibration_intensity,\n          rainfall: data.sensor_data.rainfall_24h,\n          slope: data.sensor_data.slope_angle\n        }];\n        return newData.slice(-20);\n      });\n      setError(null);\n    } catch (err) {\n      console.error('Failed to fetch live data:', err);\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    // Initial fetch\n    fetchLiveData();\n\n    // Set up polling interval (every 3 seconds)\n    intervalRef.current = setInterval(fetchLiveData, 3000);\n    return () => {\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current);\n      }\n    };\n  }, []);\n\n  // Chart configurations\n  const riskTrendChart = {\n    data: {\n      labels: historicalData.map(d => d.timestamp),\n      datasets: [{\n        label: 'Risk Probability (%)',\n        data: historicalData.map(d => d.risk),\n        borderColor: 'rgb(59, 130, 246)',\n        backgroundColor: 'rgba(59, 130, 246, 0.1)',\n        tension: 0.4,\n        fill: true\n      }]\n    },\n    options: {\n      responsive: true,\n      maintainAspectRatio: false,\n      plugins: {\n        title: {\n          display: true,\n          text: 'Risk Probability Trend (Live)'\n        },\n        legend: {\n          display: false\n        }\n      },\n      scales: {\n        y: {\n          beginAtZero: true,\n          max: 100,\n          ticks: {\n            callback: value => `${value}%`\n          }\n        },\n        x: {\n          display: false // Hide x-axis labels for cleaner look\n        }\n      },\n      interaction: {\n        intersect: false,\n        mode: 'index'\n      }\n    }\n  };\n  const riskDistributionChart = {\n    data: {\n      labels: ['Low Risk', 'Medium Risk', 'High Risk', 'Critical Risk'],\n      datasets: [{\n        data: currentData ? [currentData.prediction.category_probabilities.Low || 0, currentData.prediction.category_probabilities.Medium || 0, currentData.prediction.category_probabilities.High || 0, currentData.prediction.category_probabilities.Critical || 0] : [25, 25, 25, 25],\n        backgroundColor: ['#10b981', '#f59e0b', '#ef4444', '#dc2626'],\n        borderColor: '#fff',\n        borderWidth: 2\n      }]\n    },\n    options: {\n      responsive: true,\n      maintainAspectRatio: false,\n      plugins: {\n        title: {\n          display: true,\n          text: 'Current Risk Distribution'\n        },\n        legend: {\n          position: 'bottom'\n        }\n      }\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center items-center h-64\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"ml-4 text-gray-600\",\n        children: \"Loading live monitoring data...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-red-50 border border-red-200 rounded-lg p-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-red-500 mr-3\",\n          children: \"\\u26A0\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-red-800 font-medium\",\n            children: \"Failed to Load Live Data\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-red-600 text-sm mt-1\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: fetchLiveData,\n            className: \"mt-3 btn btn-danger text-sm\",\n            children: \"Retry Connection\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }, this);\n  }\n  const currentRisk = currentData === null || currentData === void 0 ? void 0 : currentData.prediction;\n  const sensorData = currentData === null || currentData === void 0 ? void 0 : currentData.sensor_data;\n  const systemStatus = currentData === null || currentData === void 0 ? void 0 : currentData.system_status;\n  const riskStyle = formatRiskLevel(currentRisk === null || currentRisk === void 0 ? void 0 : currentRisk.risk_category);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6 slide-in\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-gray-900\",\n          children: \"Live Monitoring\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Real-time rockfall risk assessment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-500\",\n        children: [\"Last updated: \", lastUpdate.toLocaleTimeString()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-3 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `card p-6 border-l-4`,\n        style: {\n          borderLeftColor: riskStyle.color,\n          backgroundColor: riskStyle.bgColor\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm font-medium text-gray-600\",\n              children: \"Current Risk Level\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-3xl font-bold mt-2\",\n              style: {\n                color: riskStyle.color\n              },\n              children: (currentRisk === null || currentRisk === void 0 ? void 0 : currentRisk.risk_category) || 'Unknown'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600 mt-1\",\n              children: [(currentRisk === null || currentRisk === void 0 ? void 0 : currentRisk.risk_probability) || 0, \"% probability\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-4xl\",\n            children: [(currentRisk === null || currentRisk === void 0 ? void 0 : currentRisk.risk_category) === 'Low' && 'üü¢', (currentRisk === null || currentRisk === void 0 ? void 0 : currentRisk.risk_category) === 'Medium' && 'üü°', (currentRisk === null || currentRisk === void 0 ? void 0 : currentRisk.risk_category) === 'High' && 'üü†', (currentRisk === null || currentRisk === void 0 ? void 0 : currentRisk.risk_category) === 'Critical' && 'üî¥']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card p-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm font-medium text-gray-600\",\n              children: \"Sensor Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: `text-xl font-bold mt-2 ${systemStatus !== null && systemStatus !== void 0 && systemStatus.sensors_online ? 'text-green-600' : 'text-red-600'}`,\n              children: systemStatus !== null && systemStatus !== void 0 && systemStatus.sensors_online ? 'Online' : 'Offline'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600 mt-1\",\n              children: (sensorData === null || sensorData === void 0 ? void 0 : sensorData.sensor_id) || 'Unknown Sensor'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `text-3xl ${systemStatus !== null && systemStatus !== void 0 && systemStatus.sensors_online ? 'text-green-500' : 'text-red-500'}`,\n            children: systemStatus !== null && systemStatus !== void 0 && systemStatus.sensors_online ? 'üì°' : 'üìµ'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card p-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm font-medium text-gray-600\",\n              children: \"Prediction Confidence\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xl font-bold mt-2 text-blue-600\",\n              children: [(currentRisk === null || currentRisk === void 0 ? void 0 : currentRisk.confidence) || 0, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600 mt-1\",\n              children: \"Model accuracy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-3xl\",\n            children: \"\\uD83C\\uDFAF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card p-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chart-container chart-medium\",\n          children: /*#__PURE__*/_jsxDEV(Line, {\n            data: riskTrendChart.data,\n            options: riskTrendChart.options\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card p-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chart-container chart-medium\",\n          children: /*#__PURE__*/_jsxDEV(Doughnut, {\n            data: riskDistributionChart.data,\n            options: riskDistributionChart.options\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold mb-4\",\n        children: \"Current Sensor Readings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4\",\n        children: sensorData && Object.entries({\n          'Slope Angle': `${sensorData.slope_angle}¬∞`,\n          'Rock Strength': `${sensorData.rock_strength} MPa`,\n          'Joint Spacing': `${sensorData.joint_spacing}m`,\n          'Rainfall (24h)': `${sensorData.rainfall_24h}mm`,\n          'Vibration': `${sensorData.vibration_intensity} mm/s`,\n          'Wind Speed': `${sensorData.wind_speed} m/s`\n        }).map(([label, value]) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center p-3 bg-gray-50 rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-600 uppercase tracking-wide\",\n            children: label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg font-semibold text-gray-900 mt-1\",\n            children: value\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 15\n          }, this)]\n        }, label, true, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold mb-4\",\n        children: \"Monitoring Location\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-2xl\",\n          children: \"\\uD83D\\uDCCD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-medium\",\n            children: (sensorData === null || sensorData === void 0 ? void 0 : sensorData.location) || 'Zone-A-12'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600\",\n            children: [\"Sensor: \", (sensorData === null || sensorData === void 0 ? void 0 : sensorData.sensor_id) || 'MINE_SENSOR_1001']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600\",\n            children: [\"Excavation Height: \", (sensorData === null || sensorData === void 0 ? void 0 : sensorData.excavation_height) || 25, \"m\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 198,\n    columnNumber: 5\n  }, this);\n};\n_s(LiveMonitoring, \"IGjIzLqoNJGsLQGGo3o3620ndmE=\");\n_c = LiveMonitoring;\nexport default LiveMonitoring;\nvar _c;\n$RefreshReg$(_c, \"LiveMonitoring\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Line","Doughnut","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","ArcElement","rockfallAPI","formatRiskLevel","jsxDEV","_jsxDEV","register","LiveMonitoring","_s","currentData","setCurrentData","historicalData","setHistoricalData","loading","setLoading","error","setError","lastUpdate","setLastUpdate","Date","intervalRef","fetchLiveData","data","getMockData","prev","newData","timestamp","toLocaleTimeString","risk","prediction","risk_probability","category","risk_category","vibration","sensor_data","vibration_intensity","rainfall","rainfall_24h","slope","slope_angle","slice","err","console","message","current","setInterval","clearInterval","riskTrendChart","labels","map","d","datasets","label","borderColor","backgroundColor","tension","fill","options","responsive","maintainAspectRatio","plugins","title","display","text","legend","scales","y","beginAtZero","max","ticks","callback","value","x","interaction","intersect","mode","riskDistributionChart","category_probabilities","Low","Medium","High","Critical","borderWidth","position","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","currentRisk","sensorData","systemStatus","system_status","riskStyle","style","borderLeftColor","color","bgColor","sensors_online","sensor_id","confidence","Object","entries","rock_strength","joint_spacing","wind_speed","location","excavation_height","_c","$RefreshReg$"],"sources":["D:/New RockFall/frontend/src/components/LiveMonitoring.js"],"sourcesContent":["/**\r\n * Live Monitoring Component\r\n * Real-time display of sensor data and risk predictions\r\n */\r\n\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport { Line, Doughnut } from 'react-chartjs-2';\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  ArcElement,\r\n} from 'chart.js';\r\nimport { rockfallAPI, formatRiskLevel } from '../services/api';\r\n\r\n// Register Chart.js components\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  ArcElement\r\n);\r\n\r\nconst LiveMonitoring = () => {\r\n  const [currentData, setCurrentData] = useState(null);\r\n  const [historicalData, setHistoricalData] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [lastUpdate, setLastUpdate] = useState(new Date());\r\n  const intervalRef = useRef(null);\r\n\r\n  // Fetch live data from API\r\n  const fetchLiveData = async () => {\r\n    try {\r\n      const data = await rockfallAPI.getMockData();\r\n      setCurrentData(data);\r\n      setLastUpdate(new Date());\r\n      \r\n      // Add to historical data (keep last 20 points)\r\n      setHistoricalData(prev => {\r\n        const newData = [...prev, {\r\n          timestamp: new Date().toLocaleTimeString(),\r\n          risk: data.prediction.risk_probability,\r\n          category: data.prediction.risk_category,\r\n          vibration: data.sensor_data.vibration_intensity,\r\n          rainfall: data.sensor_data.rainfall_24h,\r\n          slope: data.sensor_data.slope_angle,\r\n        }];\r\n        return newData.slice(-20);\r\n      });\r\n      \r\n      setError(null);\r\n    } catch (err) {\r\n      console.error('Failed to fetch live data:', err);\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Initial fetch\r\n    fetchLiveData();\r\n    \r\n    // Set up polling interval (every 3 seconds)\r\n    intervalRef.current = setInterval(fetchLiveData, 3000);\r\n    \r\n    return () => {\r\n      if (intervalRef.current) {\r\n        clearInterval(intervalRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // Chart configurations\r\n  const riskTrendChart = {\r\n    data: {\r\n      labels: historicalData.map(d => d.timestamp),\r\n      datasets: [{\r\n        label: 'Risk Probability (%)',\r\n        data: historicalData.map(d => d.risk),\r\n        borderColor: 'rgb(59, 130, 246)',\r\n        backgroundColor: 'rgba(59, 130, 246, 0.1)',\r\n        tension: 0.4,\r\n        fill: true,\r\n      }]\r\n    },\r\n    options: {\r\n      responsive: true,\r\n      maintainAspectRatio: false,\r\n      plugins: {\r\n        title: {\r\n          display: true,\r\n          text: 'Risk Probability Trend (Live)',\r\n        },\r\n        legend: {\r\n          display: false,\r\n        },\r\n      },\r\n      scales: {\r\n        y: {\r\n          beginAtZero: true,\r\n          max: 100,\r\n          ticks: {\r\n            callback: (value) => `${value}%`\r\n          }\r\n        },\r\n        x: {\r\n          display: false, // Hide x-axis labels for cleaner look\r\n        }\r\n      },\r\n      interaction: {\r\n        intersect: false,\r\n        mode: 'index',\r\n      },\r\n    }\r\n  };\r\n\r\n  const riskDistributionChart = {\r\n    data: {\r\n      labels: ['Low Risk', 'Medium Risk', 'High Risk', 'Critical Risk'],\r\n      datasets: [{\r\n        data: currentData ? [\r\n          currentData.prediction.category_probabilities.Low || 0,\r\n          currentData.prediction.category_probabilities.Medium || 0,\r\n          currentData.prediction.category_probabilities.High || 0,\r\n          currentData.prediction.category_probabilities.Critical || 0,\r\n        ] : [25, 25, 25, 25],\r\n        backgroundColor: [\r\n          '#10b981',\r\n          '#f59e0b', \r\n          '#ef4444',\r\n          '#dc2626',\r\n        ],\r\n        borderColor: '#fff',\r\n        borderWidth: 2,\r\n      }]\r\n    },\r\n    options: {\r\n      responsive: true,\r\n      maintainAspectRatio: false,\r\n      plugins: {\r\n        title: {\r\n          display: true,\r\n          text: 'Current Risk Distribution',\r\n        },\r\n        legend: {\r\n          position: 'bottom',\r\n        },\r\n      },\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center h-64\">\r\n        <div className=\"spinner\"></div>\r\n        <p className=\"ml-4 text-gray-600\">Loading live monitoring data...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"bg-red-50 border border-red-200 rounded-lg p-6\">\r\n        <div className=\"flex items-center\">\r\n          <div className=\"text-red-500 mr-3\">‚ö†Ô∏è</div>\r\n          <div>\r\n            <h3 className=\"text-red-800 font-medium\">Failed to Load Live Data</h3>\r\n            <p className=\"text-red-600 text-sm mt-1\">{error}</p>\r\n            <button \r\n              onClick={fetchLiveData}\r\n              className=\"mt-3 btn btn-danger text-sm\"\r\n            >\r\n              Retry Connection\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const currentRisk = currentData?.prediction;\r\n  const sensorData = currentData?.sensor_data;\r\n  const systemStatus = currentData?.system_status;\r\n  const riskStyle = formatRiskLevel(currentRisk?.risk_category);\r\n\r\n  return (\r\n    <div className=\"space-y-6 slide-in\">\r\n      {/* Header */}\r\n      <div className=\"flex justify-between items-center\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold text-gray-900\">Live Monitoring</h2>\r\n          <p className=\"text-gray-600\">Real-time rockfall risk assessment</p>\r\n        </div>\r\n        <div className=\"text-sm text-gray-500\">\r\n          Last updated: {lastUpdate.toLocaleTimeString()}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Current Risk Status */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n        <div className={`card p-6 border-l-4`} style={{ borderLeftColor: riskStyle.color, backgroundColor: riskStyle.bgColor }}>\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-gray-600\">Current Risk Level</p>\r\n              <p className=\"text-3xl font-bold mt-2\" style={{ color: riskStyle.color }}>\r\n                {currentRisk?.risk_category || 'Unknown'}\r\n              </p>\r\n              <p className=\"text-sm text-gray-600 mt-1\">\r\n                {currentRisk?.risk_probability || 0}% probability\r\n              </p>\r\n            </div>\r\n            <div className=\"text-4xl\">\r\n              {currentRisk?.risk_category === 'Low' && 'üü¢'}\r\n              {currentRisk?.risk_category === 'Medium' && 'üü°'}\r\n              {currentRisk?.risk_category === 'High' && 'üü†'}\r\n              {currentRisk?.risk_category === 'Critical' && 'üî¥'}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"card p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-gray-600\">Sensor Status</p>\r\n              <p className={`text-xl font-bold mt-2 ${systemStatus?.sensors_online ? 'text-green-600' : 'text-red-600'}`}>\r\n                {systemStatus?.sensors_online ? 'Online' : 'Offline'}\r\n              </p>\r\n              <p className=\"text-sm text-gray-600 mt-1\">\r\n                {sensorData?.sensor_id || 'Unknown Sensor'}\r\n              </p>\r\n            </div>\r\n            <div className={`text-3xl ${systemStatus?.sensors_online ? 'text-green-500' : 'text-red-500'}`}>\r\n              {systemStatus?.sensors_online ? 'üì°' : 'üìµ'}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"card p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-gray-600\">Prediction Confidence</p>\r\n              <p className=\"text-xl font-bold mt-2 text-blue-600\">\r\n                {currentRisk?.confidence || 0}%\r\n              </p>\r\n              <p className=\"text-sm text-gray-600 mt-1\">\r\n                Model accuracy\r\n              </p>\r\n            </div>\r\n            <div className=\"text-3xl\">üéØ</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Charts */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        <div className=\"card p-6\">\r\n          <div className=\"chart-container chart-medium\">\r\n            <Line data={riskTrendChart.data} options={riskTrendChart.options} />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"card p-6\">\r\n          <div className=\"chart-container chart-medium\">\r\n            <Doughnut data={riskDistributionChart.data} options={riskDistributionChart.options} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Sensor Readings */}\r\n      <div className=\"card p-6\">\r\n        <h3 className=\"text-lg font-semibold mb-4\">Current Sensor Readings</h3>\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4\">\r\n          {sensorData && Object.entries({\r\n            'Slope Angle': `${sensorData.slope_angle}¬∞`,\r\n            'Rock Strength': `${sensorData.rock_strength} MPa`,\r\n            'Joint Spacing': `${sensorData.joint_spacing}m`,\r\n            'Rainfall (24h)': `${sensorData.rainfall_24h}mm`,\r\n            'Vibration': `${sensorData.vibration_intensity} mm/s`,\r\n            'Wind Speed': `${sensorData.wind_speed} m/s`,\r\n          }).map(([label, value]) => (\r\n            <div key={label} className=\"text-center p-3 bg-gray-50 rounded-lg\">\r\n              <p className=\"text-xs text-gray-600 uppercase tracking-wide\">{label}</p>\r\n              <p className=\"text-lg font-semibold text-gray-900 mt-1\">{value}</p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Location Info */}\r\n      <div className=\"card p-6\">\r\n        <h3 className=\"text-lg font-semibold mb-4\">Monitoring Location</h3>\r\n        <div className=\"flex items-center space-x-4\">\r\n          <div className=\"text-2xl\">üìç</div>\r\n          <div>\r\n            <p className=\"font-medium\">{sensorData?.location || 'Zone-A-12'}</p>\r\n            <p className=\"text-sm text-gray-600\">\r\n              Sensor: {sensorData?.sensor_id || 'MINE_SENSOR_1001'}\r\n            </p>\r\n            <p className=\"text-sm text-gray-600\">\r\n              Excavation Height: {sensorData?.excavation_height || 25}m\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LiveMonitoring;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}